<html>
<head>
  <style>
    video {
      width: 200px;
    }

    video.not-playing {
      border-bottom: 5px red solid;
    }

    video.playing {
      border-bottom: 5px green solid;
    }

  </style>
</head>
<body>
<video class="micro-play" src="2.mp4"></video>
<video class="micro-play" src="3.mp4"></video>
<video class="micro-play" src="4.mp4"></video>
<video class="micro-play" src="5.mp4"></video>

<script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
<script>
  jQuery(document).ready(function($) {
    $('.micro-play')
      .addClass('not-playing')
      .on('click', function() {
        if (this.paused) {
          if (this.currentTime === 0) {
            this.load()
          } else {
            this.play()
          }

          $(this).on('canplaythrough', function() {
            this.play()
          })
        } else {
          this.pause()
        }
      })
      .on('ended pause', function() {
        $(this).removeClass('playing').addClass('not-playing')
      })
      .on('playing', function() {
        console.log(this)
        $(this).removeClass('not-playing').addClass('playing')
      })
  })
  //  var video = document.createElement('video')
  //  video.src = '1.mp4'
  //  video.setAttribute('controls')
  //
  //  var button = document.createElement('button')
  //  button.innerHTML = 'Play'
  //  button.addEventListener('click', function() {
  //    video.play()
  //  })
  //
  //  document.getElementById('body').appendChild(video)
  //  document.getElementById('body').appendChild(button)
</script>
</body>
</html>